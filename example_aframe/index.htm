<html>
  <head>
		<meta charset="utf-8" />
		<link rel="icon" href="data:;base64,iVBORw0KGgo=" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>threejs-StereoscopicEffects example</title>
    <script src="https://aframe.io/releases/1.7.1/aframe.min.js"></script>
		<script type="importmap">
{
	"imports": {
		"three": "./use-aframe-three.js",
		"threejs-stereoscopiceffects": "https://cdn.jsdelivr.net/gh/JackDesBwa/threejs-StereoscopicEffects@1.4.0/src/StereoscopicEffects.min.js"
	}
}
		</script>
    <script type="module" src="./aframe-stereofx.js"></script>
    <script type="module">
			import { StereoscopicEffects } from 'threejs-stereoscopiceffects'
			const ascene = document.querySelector('a-scene[stereofx]');
			function addModeSelector() {
				const select = StereoscopicEffects.effectsListSelect();
				select.onchange = _ => ascene.setAttribute('stereofx', select.value);
				select.style.position = 'absolute';
				select.style.top = '0';
				select.style.right = '0';
				select.value = ascene.systems.stereofx.data;
				document.body.append(select)
			}
			if (ascene.hasLoaded) addModeSelector();
			else ascene.addEventListener('loaded', addModeSelector)
		</script>
  </head>
  <body>
    <a-scene stereofx="20" 	xr-mode-ui="XRMode: xr">
			<a-camera position="0 1 0" fov="60" cam-focus="0.6"></a-camera>
			<a-box position="-0.1 0.85 -0.5" rotation="0 45 0" scale="0.1 0.1 0.1" color="#4CC3D9"></a-box>
      <a-sphere position="0 0.925 -0.7" radius="0.125" color="#EF2D5E"></a-sphere>
      <a-cylinder position="0.1 0.875 -0.5" radius="0.05" height="0.15" color="#FFC65D"></a-cylinder>
      <a-plane position="0 0.799 -0.6" rotation="-90 0 0" width="0.4" height="0.4" color="#7BC8A4" material="side: double"></a-plane>
      <a-sky color="#ECECEC" hide-on-enter-ar></a-sky>
    </a-scene>
  </body>
</html>
